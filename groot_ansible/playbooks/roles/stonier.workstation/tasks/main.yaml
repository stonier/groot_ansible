---

##############################################################################
# Preparatory Tasks (but no deb installs)
##############################################################################

- include: system_administration.yaml
- include: gtk_themes.yaml
- include: git-setup.yaml
- include: chrome-setup.yaml
- include: drive-setup.yaml

##############################################################################
# Update
##############################################################################

# All previous steps should defer the update to this call so we don't call
# it multiply, nor skip it after a ppa has been added with a cache check
- name: Apt update
  apt:
    update_cache: yes
    cache_valid_time: 3600
  become: yes

##############################################################################
# Tasks that (also) install debs
##############################################################################

- include: kubuntu.yaml
- include: system-debs.yaml
- include: chrome-debs.yaml
- include: language-debs.yaml
- include: drive-debs.yaml
- include: gpg.yaml
- include: git-debs.yaml
- include: snorriheim.yaml
- include: powerline.yaml
- include: xelatex.yaml

##############################################################################
